---
layout:     post
title:      深入理解计算机系统第5章笔记
date:       2017-08-31
summary:    深入理解计算机系统第5章笔记
categories: auxilary
tags:
 - csapp
---

1.编写高效程序特点:  
a)必须选择一组合适的算法和数据结构  
b)必须编写出编译器能够有效优化以转换成高效可执行代码的源代码  
c)利用多核和多处理器并行计算  
d)消除循环的低效率  
e)减少过程调用  
f)消除不必要的存储器引用  

2.现代微处理器取得的了不起的功绩之一是:它们采用复杂而奇异的微处理器结构,其中,多条指令可以并行地执行,同时又呈现一
种简单地顺序执行的表象

3.现代微处理器可以在每个时钟周期执行多个操作,而且是乱序的,意思就是指令执行的顺序不一定要与它们在机器程序中的顺序
一致,与第4章研究过的流水线相比,乱序处理器需要更大更复杂的硬件,但是它们能更好地达到更高的指令级并行度

4.通常指令控制单元(ICU)会在当前正在执行的指令很早之前取指,这样它才有足够的时间对指令译码,并把操作发送到执行单元
(EU).不过,当程序遇到分支(jnz/retn等)时,程序有两个可能的前进方向,现代处理器采用了一种称为分支预测的技术,处理器会猜
测是否会选择分支并取指和译码,如果后来发现选错了,会将状态重新设置到分支点的状态,并取指和译码

5.循环展开是一种程序变换,通过增加每次迭代计算的元素的数量,减少循环的迭代次数.编译器可以很容易地执行循环展开,只要
优化级别设置得足够高,许多编译器都能例行公事地做到这一点.用命令行选项"-funroll-loops"调用GCC,会执行循环展开.

循环展开能够从两个方面改程序的性能,下图中psum2函数是一个循环展开的示例.
a)减少了不利操作的数量,如:循环索引计算和条件分支  
b)提供了一些方法,可以进一步变化代码,减少整个计算中关键路径上的操作数量  

<img src="https://raw.githubusercontent.com/3xp10it/pic/master/csapp5-1.png">

6.每个运算都是由两个周期计数值来刻画的:一个是延迟,它表示完成运算所需要的总时间;另一个是发射时间,它表示两个连续的
同类型运算之间需要的最小时钟周期数.
