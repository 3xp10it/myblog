---
layout:     post
title:      ios应用逆向工程5-6章笔记
date:       2018-01-10
summary:    ios应用逆向工程5-6章笔记
categories: 二进制
tags:
 - ios
 - reverse
---

### 理论篇

1.依据维基百科的定义,tweak指的是对电子系统进行轻微调整来增强其功能的工具;在iOS中,tweak特指那些能够增强基他进程功能的dylib,是越狱iOS的最重要组成部分.这种增强原有工具功能的方法是通过`进程注入`实现的,就像书籍的知识注入大脑的,让大脑变得更强

2.一般来说,编写tweak会用到C,C++和Objective-C三种语言

3.iOS是个封闭的系统,它暴露给我们的中是冰山一角,有太多太多的功能还有待我们进一步挖掘.每次越狱发布后,都会有人把最新的头文件发布出来,google一下`iOS private headers`即可轻松找到下载链接,省去了自己class-dump的麻烦

4.定位目标文件
我们的逆向目标一般是dylib,bundle或daemon,它们在系统中的位置几乎是固定的:
+ 基于CydiaSubstrate的dylib全部位于`/Library/MobileSubstrate/DynamicLibraries/`下,几乎不费吹灰之力就可以轻松定位
+ bundle主要分为App和framework两类,其中Appstore App全部位于`/var/mobile/Containers/Bundle/Application`下,系统App全部位于`/Applications`下,framework全部位于`/System/Library/Frameworks`或`/System/Library/PrivateFrameworks`下
+ daemon的配置文件均位于`/System/Library/LaunchDaemons/`,`/Library/LaunchDaemons`或`/Library/LaunchAgents/`下,是一个plist格式的文件.其中的`ProgramArguments`字段,即是daemon可执行文件的绝对路径
